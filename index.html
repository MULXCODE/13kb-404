<!DOCTYPE html><html lang="en"><head><title>13kb-404</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><style>body{background-color: #fff;margin: 0;}canvas{display: block;}#VRButton{color: blue !important;background-color: white !important;bottom: 40px !important;border-radius: 0 !important;opacity: 1 !important;}</style></head><body><script type="module">import{CylinderBufferGeometry as n,BufferAttribute as e,Mesh as t,IcosahedronBufferGeometry as o,MeshNormalMaterial as i,Group as r,MeshBasicMaterial as a,BackSide as s,MultiplyBlending as c,Float32BufferAttribute as d,BufferGeometry as u,CircleBufferGeometry as p,InstancedMesh as w,Raycaster as l,Object3D as f,Scene as h,Color as g,PerspectiveCamera as A,AudioListener as y,AudioLoader as v,Audio as m,WebGLRenderer as b,Vector3 as x,Line as z,LineBasicMaterial as M}from"https://unpkg.com/three@0.120.1/build/three.module.js";import{VRButton as j}from"https://unpkg.com/three@0.120.1/examples/jsm/webxr/VRButton.js";var L={songData:[{i:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[1,1,1,1],c:[{n:[147,,,,,,147,,147,,,,,,147,,,,147,,,,,,147,,,147,,,,,135,,,,,,135,,135,,,,,,135,,,,135,,,,,,135,,,135,,,,,123,,,,,,123,,123,,,,,,123,,,,123,,,,,,123,,,123,,,,,111,,,,,,111,,111,,,,,,111,,,,111,,,,,,111,,,111],f:[]}]},{i:[3,0,128,1,3,68,128,0,1,25,4,4,40,0,0,1,55,4,0,2,67,115,124,188,67,6,39,1],p:[1,1,1,1],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,139,,,,,,,,139,,,,,,,,139,,,,,,,,139],f:[]}]},{i:[0,192,128,0,0,192,140,18,0,0,107,115,138,3,1,0,136,5,0,2,8,92,21,32,29,5,85,8],p:[1,2,3,2],c:[{n:[151],f:[]},{n:[152],f:[]},{n:[154],f:[]}]},{i:[3,163,128,0,3,154,128,9,0,0,15,5,31,0,0,0,0,0,0,2,255,193,0,32,47,3,146,2],p:[1,1,1,1],c:[{n:[111,111,111,111,123,123,123,123,111,111,111,111,123,123,123,123,111,111,111,111,123,123,123,123,111,111,111,111,123,123,123,123],f:[]}]},{i:[2,40,128,0,3,80,128,0,0,0,5,6,58,0,0,0,195,6,0,2,64,68,0,33,164,6,121,6],p:[1,1,1,1],c:[{n:[99,,,,,,,,111,,,,,,,,99,,,,,,,,111,,,,,,,,111,,,,,,,,123,,,,,,,,111,,,,,,,,123,,,,,,,,123,,,,,,,,135,,,,,,,,123,,,,,,,,135],f:[]}]},{i:[2,100,116,1,2,99,128,3,1,0,47,47,60,124,2,0,139,4,0,3,62,160,3,32,198,4,121,5],p:[],c:[]},{i:[1,91,128,0,1,95,128,12,0,0,12,0,25,0,0,0,255,8,1,3,24,157,0,32,83,3,130,4],p:[],c:[]},{i:[0,158,128,0,1,152,116,14,0,0,11,22,11,0,0,0,69,3,1,3,88,106,0,24,77,6,31,4],p:[1,2,3,2],c:[{n:[147,,151,147,,151,147,,151,147,,151,147,,151,147,,151,147,,151,147,,151,147,,151,147,,151,147],f:[]},{n:[151,,154,151,,154,151,,154,151,,154,151,,154,151,,154,151,,154,151,,154,151,,154,151,,154,151],f:[]},{n:[154,,151,154,,151,154,,151,154,,151,154,,151,154,,151,154,,151,154,,151,154,,151,154,,151,154],f:[]}]}],rowLen:5513,patternLen:32,endPattern:3,numChannels:8},Y={songData:[{i:[2,100,116,1,2,99,128,3,1,0,47,47,60,124,2,0,139,4,0,3,62,160,3,32,198,4,121,5],p:[1],c:[{n:[147,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],f:[]}]}],rowLen:5513,patternLen:32,endPattern:0,numChannels:1},q={songData:[{i:[1,91,128,0,1,95,128,12,0,0,12,0,25,0,0,0,255,8,1,3,24,157,0,32,83,3,130,4],p:[1,1,1,1],c:[{n:[152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,147,152,151,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139,135,140,139],f:[]}]}],rowLen:5513,patternLen:32,endPattern:3,numChannels:1},C=function(){var n,e,t,o,i,r=function(n){return Math.sin(6.283184*n)},a=function(n){return.003959503758*Math.pow(2,(n-128)/12)},s=function(n,e,t){var o,i,r,s,d,u,p,w=c[n.i[0]],l=n.i[1],f=n.i[3],h=c[n.i[4]],g=n.i[5],A=n.i[8],y=n.i[9],v=n.i[10]*n.i[10]*4,m=n.i[11]*n.i[11]*4,b=n.i[12]*n.i[12]*4,x=1/b,z=n.i[13],M=t*Math.pow(2,2-n.i[14]),j=new Int32Array(v+m+b),L=0,Y=0;for(o=0,i=0;o<v+m+b;o++,i++)i>=0&&(i-=M,u=a(e+(15&(z=z>>8|(255&z)<<4))+n.i[2]-128),p=a(e+(15&z)+n.i[6]-128)*(1+8e-4*n.i[7])),r=1,o<v?r=o/v:o>=v+m&&(r-=(o-v-m)*x),s=u,f&&(s*=r*r),d=w(L+=s)*l,s=p,A&&(s*=r*r),d+=h(Y+=s)*g,y&&(d+=(2*Math.random()-1)*y),j[o]=80*d*r|0;return j},c=[r,function(n){return n%1<.5?1:-1},function(n){return n%1*2-1},function(n){var e=n%1*4;return e<2?e-1:3-e}];this.init=function(r){n=r,e=r.endPattern,t=0,o=r.rowLen*r.patternLen*(e+1)*2,i=new Int32Array(o)},this.generate=function(){var a,d,u,p,w,l,f,h,g,A,y,v,m,b,x=new Int32Array(o),z=n.songData[t],M=n.rowLen,j=n.patternLen,L=0,Y=0,q=!1,C=[];for(u=0;u<=e;++u)for(f=z.p[u],p=0;p<j;++p){var I=f?z.c[f-1].f[p]:0;I&&(z.i[I-1]=z.c[f-1].f[p+j]||0,I<16&&(C=[]));var O=c[z.i[15]],G=z.i[16]/512,K=Math.pow(2,z.i[17]-9)/M,P=z.i[18],Q=z.i[19],R=43.23529*z.i[20]*3.141592/44100,W=1-z.i[21]/255,E=1e-5*z.i[22],k=z.i[23]/32,D=z.i[24]/512,T=6.283184*Math.pow(2,z.i[25]-9)/M,H=z.i[26]/255,B=z.i[27]*M&-2;for(y=(u*j+p)*M,w=0;w<4;++w)if(l=f?z.c[f-1].n[p+w*j]:0){C[l]||(C[l]=s(z,l,M));var U=C[l];for(d=0,a=2*y;d<U.length;d++,a+=2)x[a]+=U[d]}for(d=0;d<M;d++)(A=x[h=2*(y+d)])||q?(v=R,P&&(v*=O(K*h)*G+.5),Y+=(v=1.5*Math.sin(v))*(m=W*(A-Y)-(L+=v*Y)),A=3==Q?Y:1==Q?m:L,E&&(A=(A*=E)<1?A>-1?r(.25*A):-1:1,A/=E),q=(A*=k)*A>1e-5,b=A*(1-(g=Math.sin(T*h)*D+.5)),A*=g):b=0,h>=B&&(b+=x[h-B+1]*H,A+=x[h-B]*H),x[h]=0|b,x[h+1]=0|A,i[h]+=0|b,i[h+1]+=0|A}return++t/n.numChannels},this.createWave=function(){var n=44+2*o-8,e=n-36,t=new Uint8Array(44+2*o);t.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&e,e>>8&255,e>>16&255,e>>24&255]);for(var r=0,a=44;r<o;++r){var s=i[r];s=s<-32767?-32767:s>32767?32767:s,t[a++]=255&s,t[a++]=s>>8&255}return t},this.getData=function(n,e){for(var t=2*Math.floor(44100*n),o=new Array(e),r=0;r<2*e;r+=1){var a=t+r;o[r]=n>0&&a<i.length?i[a]/32768:0}return o}};function I(){const n=new C;return{generate:async function(e){return n.init(e),new Promise((function(e,t){const o=setInterval((function(){if(!0===n.generate()>=1){clearInterval(o);const t=n.createWave(),i=new Blob([t],{type:"audio/wav"});e(URL.createObjectURL(i))}}),0)}))}}}const O=new Image;O.src="data:image/gif;base64,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";const G=[0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,1,0,1],K=[0,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1,0],P=[0,0,0,1,0,0,0,1,0,1,1,0,0,1,0,1,0,0],Q=[0,0,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1,1],R=[0,0,0,0,1,0,0,0,1,0,1,1,0,0,1,0,1,0],W=[1,0,0,1,0,1,1,1,0,1,1,1,1,1,0,1,0,1],E=new n(.5,.5,.5,5).translate(0,.25,0),k=E.attributes.position.array,D=new Float32Array(k.length);for(let n=0;n<k.length;n+=3)D[n+0]=D[n+1]=D[n+2]=k[n+1]>0?10:1;E.setAttribute("color",new e(D,3));const T=new t(new o(.25),new i);function H(n){const e=new r,o=new t(E,new a({color:16720418,vertexColors:!0,side:s,blending:c,transparent:!0}));e.add(o);const i=new t(E,new a({color:2237183,vertexColors:!0,side:s,blending:c,transparent:!0}));e.add(i);const p=new r;e.add(p);const w=document.createElement("canvas");w.width=64,w.height=64;const l=n%4,f=Math.floor(n/4),h=w.getContext("2d");h.drawImage(O,64*-l,64*-f);const g=h.getImageData(0,0,64,64).data,A=[];for(let n=0,e=0;n<g.length;n+=4,e++){const t=e%64,r=Math.floor(e/64),a=B(g,n);if(a>0&&(U(A,G,t,r),U(A,K,t,r),0===B(g,n-4)&&U(A,R,t,r),0===B(g,n+4)&&U(A,W,t,r),0===B(g,n-256)&&U(A,P,t,r),0===B(g,n+256)&&U(A,Q,t,r),16711680===a&&o.position.set(t+.5,.01,r+.5),255===a&&i.position.set(t+.5,.01,r+.5),65280===a)){const n=T.clone();n.position.set(t+.5,1,r+.5),p.add(n)}}const y=new d(A,3),v=new u;v.setAttribute("position",y),v.computeVertexNormals();const m=new a,b=new t(v,m);return b.scale.y=2,e.add(b),{group:e,update:function(){for(let n=0;n<p.children.length;n++){const e=p.children[n];e.rotation.x+=.01,e.rotation.y+=.01}o.rotation.y+=.02,i.rotation.y+=.02}}}function B(n,e){return n[e+0]<<16|n[e+1]<<8|n[e+2]}function U(n,e,t,o){for(let i=0;i<18;i+=3)n.push(e[i+0]+t,e[i+1],e[i+2]+o)}const X=new p(.2,5).translate(0,0,.01),V=new a({color:16711680,depthWrite:!1}),F=new w(X,V,200);F.count=0,F.renderOrder=1;const S=new r,J=new function(){let n=0;return{mesh:F,add:function(e){F.setMatrixAt(n++,e),F.instanceMatrix.needsUpdate=!0,n>200&&(n=0),F.count<n&&(F.count=n)},reset:function(){F.count=0,n=0}}};S.add(J.mesh);const Z=new l,N=new f;function $(){let n;return{setMap:function(e){n=e,J.reset()},group:S,shoot:function(e){Z.ray.origin.setFromMatrixPosition(e.matrixWorld),Z.ray.direction.set(0,0,-1).applyQuaternion(e.quaternion).applyQuaternion(e.parent.quaternion);const t=Z.intersectObject(n.group.children[3]);if(t.length>0){const n=t[0];N.position.set(0,0,0),N.lookAt(n.face.normal),N.rotation.z=Math.random()*Math.PI,N.position.copy(n.point),N.updateMatrix(),console.log(N.quaternion.toArray()),J.add(N.matrix)}}}}let _,nn,en,tn,on,rn,an,sn,cn,dn,un,pn,wn,ln,fn,hn,gn=1,An=!0;function yn(n){void 0!==sn&&nn.remove(sn.group),!0===An&&(n=0),sn=new H(n),nn.add(sn.group);const e=sn.group.children;if(cn=e[0],dn=e[1],un=e[2],!0===An){const n=sn.group.children[3];n.scale.y=.5,n.geometry.center();const e=n.clone();e.material=new a({color:187}),e.position.y=-2,sn.group.add(e),cn.visible=!1,dn.position.set(0,-3,0),dn.scale.setScalar(70)}tn.position.copy(cn.position),tn.rotation.set(0,Math.PI,0),pn.setMap(sn)}function vn(){_.aspect=window.innerWidth/window.innerHeight,_.updateProjectionMatrix(),en.setSize(window.innerWidth,window.innerHeight)}function mn(n){let e=n.target;if(e.userData.gamepad=n.data.gamepad,e.userData.handedness=n.data.handedness,"right"===n.data.handedness){let n=new u;n.setFromPoints([new x(0,0,0),new x(0,0,-1)]);let t=new z(n,new M({color:255}));t.scale.z=2,e.add(t)}}function bn(n){const e=n.userData.gamepad;switch(n.userData.handedness){case"left":tn.rotateY(.03*-e.axes[2]);const t=.03*e.axes[3],o=Math.sin(t);an.ray.origin.copy(tn.position),an.ray.direction.set(0,0,o).applyQuaternion(tn.quaternion);const i=an.intersectObject(sn.group.children[3]);if(i.length>0){i[0].distance>t+1.5&&tn.translateZ(t)}break;case"right":e.buttons[0].pressed?(pn.shoot(n),!1===hn.isPlaying&&hn.play()):!0===hn.isPlaying&&hn.stop()}}function xn(){if(!0===An){const n=performance.now()/5e3;sn.group.rotation.x=Math.sin(n)/4,sn.group.rotation.y=Math.PI,sn.group.rotation.z=Math.cos(1.1234*n)/4,_.position.y=50,_.position.z=2,_.rotation.x=-Math.PI/2}else bn(on),bn(rn),tn.position.distanceTo(dn.position)<1&&(fn.play(),yn(++gn)),sn.update();en.render(nn,_)}!async function(){nn=new h,nn.background=new g(16777215),tn=new r,nn.add(tn),_=new A(70,window.innerWidth/window.innerHeight,.1,100),_.position.set(0,1.6,0),tn.add(_),wn=new y,_.add(wn);const n=new v,e=new I;ln=new m(wn),ln.setBuffer(await n.loadAsync(await e.generate(L))),ln.setLoop(!0),_.add(ln),fn=new m(wn),fn.setBuffer(await n.loadAsync(await e.generate(Y))),_.add(fn),hn=new m(wn),hn.setBuffer(await n.loadAsync(await e.generate(q))),_.add(hn),pn=new $,nn.add(pn.group),yn(gn),en=new b({antialias:!0}),en.setAnimationLoop(xn),en.setPixelRatio(window.devicePixelRatio),en.setSize(window.innerWidth,window.innerHeight),en.xr.enabled=!0,en.xr.addEventListener("sessionstart",(function(){An=!1,yn(gn),ln.play()})),en.xr.addEventListener("sessionend",(function(){An=!0,yn(gn),ln.stop()})),document.body.appendChild(en.domElement),document.body.appendChild(j.createButton(en)),window.addEventListener("resize",vn,!1),on=en.xr.getController(0),on.addEventListener("connected",mn),tn.add(on),rn=en.xr.getController(1),rn.addEventListener("connected",mn),tn.add(rn),an=new l}();</script></body></html>
